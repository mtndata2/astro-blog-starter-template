---
const currencies = [
  { code: "USD_NGN", label: "Dollar", flag: "🇺🇸", name: "USD" },
  { code: "GBP_NGN", label: "Pound", flag: "🇬🇧", name: "GBP" },
  { code: "EUR_NGN", label: "Euro", flag: "🇪🇺", name: "EUR" },
  { code: "CAD_NGN", label: "Canadian Dollar", flag: "🇨🇦", name: "CAD" },
  { code: "ZAR_NGN", label: "Rand", flag: "🇿🇦", name: "ZAR" },
  { code: "AUD_NGN", label: "Aussie", flag: "🇦🇺", name: "AUD" },
  { code: "AED_NGN", label: "Dirham", flag: "🇦🇪", name: "AED" },
  { code: "CNY_NGN", label: "Yuan", flag: "🇨🇳", name: "CNY" },
  { code: "GHS_NGN", label: "Cedi", flag: "🇬🇭", name: "GHS" },
  { code: "XOF_NGN", label: "XOF", flag: "🌍", name: "XOF" },
  { code: "XAF_NGN", label: "XAF", flag: "🌍", name: "XAF" },
];
---

<html>
  <head>
    <title>Dollar To Naira Black Market Rate Today</title>
    <meta name="description" content="Live black market exchange rates for Dollar, Pound, Euro, and more." />
    <style>
      /* ...your CSS here... */
    </style>
  </head>
  <body>
    <div class="header">
      <h1>Dollar To Naira Black Market Exchange Rate Today</h1>
      <div style="font-size:1.1em;">Live rates for Dollar, Pound, Euro, and more</div>
    </div>
    <div class="cards" id="ratesCards">
      Loading...
    </div>
    <div style="padding: 30px; max-width:700px; margin: 2em auto; background: #fff; border-radius: 12px;">
      <h2>Welcome to Nairatoday.com</h2>
      <p>Your trusted source for real-time updates...</p>
    </div>
    <script type="module">
      const currencies = ${JSON.stringify(currencies)};
      fetch('/api/latest-rates')
        .then(r => r.json())
        .then(rates => {
          const el = document.getElementById('ratesCards');
          el.innerHTML = currencies.map(({code, label, flag, name}) => `
            <div class="card">
              <div class="flag">${flag}</div>
              <div class="label">${label} (${name})</div>
              <div class="rate-row"><b>BUY</b> = ₦${rates[code]?.buy ?? 'N/A'}</div>
              <div class="rate-row"><b>SELL</b> = ₦${rates[code]?.sell ?? 'N/A'}</div>
            </div>
          `).join('');
        })
        .catch(() => {
          document.getElementById('ratesCards').innerHTML = "<b>Could not load rates.</b>";
        });
    </script>
  </body>
</html>
