---
// homepage.astro
import "../styles/global.css";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

const todayDate = new Date().toLocaleDateString("en-GB", { day: "numeric", month: "long", year: "numeric" });

const currencies = [
  { code: "USD_NGN", label: "Dollar", flag: "🇺🇸", name: "USD", url: "/black-market-usd-ngn-2" },
  { code: "GBP_NGN", label: "Pound", flag: "🇬🇧", name: "GBP", url: "/black-market-gbp-ngn-2" },
  { code: "EUR_NGN", label: "Euro", flag: "🇪🇺", name: "EUR", url: "/black-market-eur-ngn-2" },
  { code: "CAD_NGN", label: "Canadian Dollar", flag: "🇨🇦", name: "CAD", url: "/black-market-cad-ngn-2" },
  { code: "ZAR_NGN", label: "Rand", flag: "🇿🇦", name: "ZAR", url: "/black-market-zar-ngn-2" },
  { code: "AUD_NGN", label: "Aussie", flag: "🇦🇺", name: "AUD", url: "/black-market-aud-ngn-2" },
  { code: "AED_NGN", label: "Dirham", flag: "🇦🇪", name: "AED", url: "/black-market-aed-ngn-2" },
  { code: "CNY_NGN", label: "Yuan", flag: "🇨🇳", name: "CNY", url: "/black-market-cny-ngn-2" },
  { code: "GHS_NGN", label: "Cedi", flag: "🇬🇭", name: "GHS", url: "/black-market-ghs-ngn-2" },
  { code: "XOF_NGN", label: "XOF", flag: "🌍", name: "XOF", url: "/black-market-xof-ngn-2" },
  { code: "XAF_NGN", label: "XAF", flag: "🌍", name: "XAF", url: "/black-market-xaf-ngn-2" },
];

let rates = {};
try {
  const res = await fetch("https://astro-blog-starter-template.mtndatasales.workers.dev/api/latest-rates");
  rates = await res.json();
} catch (e) {
  rates = {};
}
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Nairatoday -  Dollar, Pound, Euro, and more to Naira Black Market Exchange Rate Today</title>
    <meta name="description" content="Track naira black market exchange rate: Dollar, Euro, Pound, and more to Naira. Live rates, daily updates." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/src/styles/global.css">
  </head>
  <body>
<Header />


<h1 class="main-heading">
   Dollar, Pound, Euro, and more to Naira Black Market Exchange Rate {todayDate} 
</h1>

    <div class="cards">
      {currencies.map(({ code, label, flag, name, url }) => (
        <div class="card" key={code}>
          <div class="flag">{flag}</div>
          <div class="label">{label} ({name})</div>
          <!-- Make rate values clickable -->
          <a href={url} class="rate-row-link">
            <div class="rate-row"><b>BUY</b> = ₦{rates[code]?.buy ?? 'N/A'}</div>
            <div class="rate-row"><b>SELL</b> = ₦{rates[code]?.sell ?? 'N/A'}</div>
          </a>
          <!-- Button below rates -->
          <div style="margin-top:12px;">
            <a href={url} class="to-naira-btn">
              {label} To Naira <span aria-hidden="true" style="font-size:1.1em;">➔</span>
            </a>
          </div>
        </div>
      ))}
    </div>
    <div class="welcome-box">
      <h2>Welcome to Nairatoday.com</h2>
      <p>Your trusted source for real-time updates on the Dollar to Naira Black Market exchange rate. We provide accurate, up-to-date information to help you stay informed and make smarter financial decisions.</p>
    </div>

<Footer />
  </body>
</html>
